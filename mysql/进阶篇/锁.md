## 1.概述
MySQL中的锁，按照锁的粒度分，分为以下三类：
+ 全局锁：锁定数据库中的所有表。 
+ 表级锁：每次操作锁住整张表。
+ 行级锁：每次操作锁住对应的行数据。

## 2.全局锁
### 2.1介绍
全局锁就是对整个数据库实例加锁，加锁后整个实例就处于只读状态，后续的DML的写语句，DDL语句，已经更新操作的事务提交语句都将被阻塞。
### 2.2语法
#### 加全局锁
```mysql
flush tables with read lock ;
```


#### 数据备份 
数据备份的相关指令, 在后面MySQL管理章节, 还会详细讲解. 
```
mysqldump -uroot –p1234 itcast > itcast.sql;
```

#### 释放锁
```mysql
unlock tables;
```
### 2.3特点
全局锁会存在以下问题:
+ 如果在主库上备份，那么在备份期间都不能执行更新，业务基本上就得停摆。
+ 如果在从库上备份，那么在备份期间从库不能执行主库同步过来的二进制日志（binlog），会导致主从延迟。
在InnoDB引擎中，我们可以在备份时加上参数 --single-transaction 参数来完成不加锁的一致 性数据备份。
```mysql
mysqldump --single-transaction -uroot –p123456 itcast > itcast.sql
```

## 3.表级锁
### 3.1介绍
表级锁应用在MyISAM、 InnoDB、BDB等存储引擎中。
主要分为以下三类:
+ 表锁 
+ 元数据锁（meta data lock，MDL） 
+ 意向锁
### 3.2 表锁
表锁分为两类
+ 加锁：lock tables 表名... read/write。 
+ 释放锁：unlock tables / 客户端断开连接 。
### 3.3元数据锁
meta data lock , 元数据锁，简写MDL。

### 3.4意向锁
#### 3.4.1介绍
为了避免DML在执行时，加的行锁与表锁的冲突，在InnoDB中引入了意向锁，使得表锁不用检查每行 数据是否加锁，使用意向锁来减少表锁的检查。





